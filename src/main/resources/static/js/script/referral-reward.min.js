function claimReferralReward(e){$.blockUI(blockUiOptions()),$.ajax({type:"POST",url:`api/v1/wallet/claim-referral-reward/${currentUser.id}/${e}`,dataType:"json",contentType:"application/json;charset=utf-8",success:function(e){$.unblockUI(),null==e.error?(show_success(resources.saveSuccess),generateReferralRewardItems()):show_error(e.error)},error:function(e,r,s){$.unblockUI(),isNullOrEmpty(get(()=>e.responseJSON))?show_error("ajax answer post returned error: "+s.responseText):e.responseJSON.status>=400&&e.responseJSON.status<500?show_warning(e.responseJSON.error+" ("+e.responseJSON.status+") <br>"+e.responseJSON.message):show_error(e.responseJSON.error+" ("+e.responseJSON.status+") <br>"+e.responseJSON.message)}})}function generateReferralRewardItems(){$.blockUI(blockUiOptions()),$.getJSON(`api/v1/wallet/get-claimed-referrals/${currentUser.id}`,function(e){$("#claimedReferralsCount").text(e);let r=parseInt($("#totalReferralCount").text());$("#remainedReferralsCount").text(r-parseInt(e)),$.getJSON("api/v1/parameter/find-by-group-code/REFERRAL_REWARD",function(e){$("#referral-rewards-content").empty(),e.forEach(e=>{let r=100*parseInt($("#remainedReferralsCount").text())/parseInt(e.title),s=`<div class="row">
                <div class="col-md-12 col-sm-12 ">
                    <div class="x_panel">
                        <div class="x_title">
                            <h2>${resources.inviteXFriends.format(e.title)}</h2>
                            <div class="clearfix"></div>
                        </div>
                        <div class="x_content">
                            <div class="row">
                                <table class="col-md-12 col-sm-12" style="width: 100%">
                                    <tr>
                                        <td style="padding-left: 10px"><i class="fa fa-coins"></i>&nbsp;${e.value} USD</td>
                                        <td style="text-align: right"><a href="javascript:claimReferralReward(${e.title})" aria-disabled=${r<100} type="button" class="btn btn-sm ${r>=100?"btn-success":"btn-secondary disabled"}">${resources.claim}</a></td>
                                    </tr>
                                </table>
                                <div class="col-md-12 col-sm-12">
                                    <div class="progress progress_sm">
                                        <div class="progress-bar bg-green" role="progressbar" data-transitiongoal=${r}></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>`;$("#referral-rewards-content").append(s)}),$(".progress .progress-bar").progressbar(),$.unblockUI()})})}